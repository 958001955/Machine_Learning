## 决策树

### 一、分类决策树

#### 1、决策树的实现

- 01_决策树的实现.py
- 使用信息增益的方法，来构造实现分类决策树
- 使用 <font color=red>**多数表决法**</font> 构成<font color=blue>分类决策树</font> 
- 如果决策规则不是使用多数表决法，而是使用 <font color=red>**均方误差**（MSE）或平均绝对误差（MAE）</font> ，就可以构成<font color=blue>回归决策树</font> 

代码可见：`01_决策树的实现.py`

#### 2. 鸢尾花数据分类

本案例主要看看使用决策树模型的一般步骤。

实现步骤：

- 读取数据
- 划分数据（特征数据与标签数据分开）
- 数据分割（训练集和测试集）
- 数据预处理（数据归一化、特征选择、降维）
- 模型构建及训练
- 模型预测
- 模型评估
- 画图

代码可见：`02_鸢尾花数据分类.py`

#### 3. 鸢尾花数据分类（参数优化）

本案例主要是选择出最优的模型参数（超参数），以使模型达到最优。

实现步骤：

- 读取数据
- 划分数据（特征数据与标签数据分开）
- 数据分割（训练集和测试集）：至此和三个案例一样
- <font color=red>参数优化（通过管道设置模型及参数）</font>
- 模型构建及训练
- 模型评估
- 应用以上得到的最优参数查看效果

代码可见：`03_鸢尾花数据分类_参数优化.py`


#### 4.鸢尾花数据分类（决策树深度不同）

本案例主要为了测试决策树不同深度给模型带来的效果。

实现步骤：

- 读取数据
- 划分数据（特征数据与标签数据分开）
- 数据分割（训练集和测试集）：至此和三个案例一样
- 模型训练（基于不同深度依次训练，此处省略了数据预处理），并记录每个深度下的正确率
- 画出正确率变化图

代码可见：`04_鸢尾花数据分类_决策树深度不同.py`

#### 5.鸢尾花数据分类（特征属性比较）

本案例主要是使用2个特征来训练模型，并且这两个特征为任意组合，最后查看每个模型的效果。

实现步骤：
- 读取数据
- 划分数据（特征数据与标签数据分开）
- 数据分割（训练集和测试集）：至此和三个案例一样
- 特征比较（每组特征模型训练，画图）

代码可见：`05_鸢尾花数据分类_特征比较.py`

### 二、回归决策树

#### 1. 波士顿房屋租赁价格预测

本案例使用回归决策树进行房屋租赁价格预测，并与之前在回归算法中使用线性回归、Lasso回归、Ridge回归进行比较。

实现步骤：

- 读取数据
- 划分数据（特征数据与标签数据分开）
- 数据分割（训练集和测试集）：这些步骤和前面的案例类似
- 数据处理（数据归一化）
- 模型构建，并训练，预测，评估（决策树、线性回归、Lasso回归、Ridge回归）
- 画图


代码可见：`06_波士顿房屋租赁价格预测.py`


#### 2. 波士顿房屋租赁价格预测（参数优化）

本案例是主要是选择出最佳模型的参数。

实现步骤：

- 读取数据
- 划分数据（特征数据与标签数据分开）
- 数据分割（训练集和测试集）
- <font color=red>参数优化（通过管道设置模型及参数）</font>
- 模型构建及训练
- 应用以上得到的最优参数查看效果


代码可见：`07_波士顿房屋租赁价格预测_参数优化.py`


#### 3. 波士顿房屋租赁价格预测（决策树不同深度）

本案例主要为了测试决策树不同深度给模型带来的效果。

实现步骤：

- 读取数据
- 划分数据（特征数据与标签数据分开）
- 数据分割（训练集和测试集）：至此和三个案例一样
- 模型训练（基于不同深度依次训练，此处省略了数据预处理），并记录每个深度下的正确率
- 画出正确率变化图

代码可见：`08_波士顿房屋租赁价格预测_决策树深度不同.py`


### 三、回归决策树过欠拟合与过拟合

本案例主要是通过随机数据，看决策树深度对模型拟合程度的影响。

实现步骤：

- 数据准备（随机构造数据，此处构造的是sin(x)，加上随机噪声）
- 模型构造（构造深度不一样的）
- 模型训练
- 模型预测（随机产生测试数据）
- 画图展示


代码可见：`09_决策树欠拟合与过拟合.py`


### 四、决策树可视化

#### 1、回归决策树可视化

- 10_回归决策树模型可视化.py
- 基于波士顿房屋租赁数据，应用回归决策树，并将决策树可视化
- `import pydotplus`
- 安装：`pip install pydotplus`


#### 2、分类决策树可视化

- 11_分类决策树模型可视化.py
- 基于鸢尾花数据，应用分类决策树，并将决策树可视化
- 方式一：输出形成`dot`文件，然后使用`graphviz`的dot命令将`dot`文件转换为`pdf`
- 方式二：直接使用`pydotplus`插件生成pdf文件 `pip install pydotplus`
- 方式三：直接生成图片